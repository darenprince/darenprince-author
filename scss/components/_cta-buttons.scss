@use "../base/mixins" as *;
@use "../base/variables" as *;
@use "../tokens/colors" as *;

.cta-btn {
  --btn-bg: linear-gradient(
    135deg,
    color-mix(in srgb, #{$deep-green} 78%, black),
    color-mix(in srgb, #{$deep-green} 96%, black)
  );
  --btn-border: 1px solid color-mix(in srgb, #{$deep-green} 68%, black);
  --btn-color: var(--color-contrast-high);
  --btn-bg-hover: linear-gradient(
    135deg,
    color-mix(in srgb, #{$deep-green} 70%, black),
    color-mix(in srgb, #{$deep-green} 96%, black)
  );
  --btn-hover-color: var(--color-contrast-high);
  --btn-shadow: 0 20px 42px color-mix(in srgb, #{$deep-green} 32%, transparent);
  @include button-base($deep-green, var(--color-contrast-high));
  font-weight: 600;
  letter-spacing: 0.01em;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: $spacing-xxs;
  text-transform: none;
  box-shadow: var(--btn-shadow);
  transition: transform $transition, box-shadow $transition, background $transition, color $transition;

  &:hover,
  &:focus {
    transform: translateY(-1px);
    box-shadow:
      inset 0 0 0 1px color-mix(in srgb, #{$lime-green} 35%, transparent),
      0 24px 40px color-mix(in srgb, #{$deep-green} 46%, transparent);
  }

  &:active {
    transform: translateY(0);
    box-shadow:
      inset 0 2px 10px color-mix(in srgb, #{$black} 55%, transparent),
      inset 0 0 0 1px color-mix(in srgb, #{$lime-green} 45%, transparent);
  }
}

.cta-btn--outline {
  @extend .cta-btn;
  --btn-bg: transparent;
  --btn-color: var(--color-bright);
  --btn-border: 2px solid var(--color-bright);
  --btn-bg-hover: transparent;
  --btn-hover-color: var(--color-bright);
  --btn-shadow: inset 0 0 0 1px color-mix(in srgb, #{$bright-green} 42%, transparent);

  &:hover,
  &:focus {
    box-shadow: inset 0 0 0 2px color-mix(in srgb, #{$lime-green} 28%, transparent);
  }

  &:active {
    box-shadow: inset 0 0 0 2px color-mix(in srgb, #{$lime-green} 38%, transparent);
  }
}

.cta-btn--arrow {
  @extend .cta-btn;
  padding-right: $spacing-lg;
  position: relative;

  &::after {
    content: '\2192';
    position: absolute;
    right: $spacing-md;
    transition: transform $transition;
  }

  &:hover::after,
  &:focus::after {
    transform: translateX(4px);
  }
}

.cta-btn--glow {
  @extend .cta-btn;
  animation: cta-glow 2.25s ease-in-out infinite;
}

@keyframes cta-glow {
  0%, 100% {
    box-shadow:
      inset 0 0 0 1px color-mix(in srgb, #{$lime-green} 22%, transparent),
      0 16px 32px color-mix(in srgb, #{$deep-green} 34%, transparent);
  }

  50% {
    box-shadow:
      inset 0 0 0 1px color-mix(in srgb, #{$lime-green} 34%, transparent),
      0 22px 44px color-mix(in srgb, #{$deep-green} 48%, transparent);
  }
}
